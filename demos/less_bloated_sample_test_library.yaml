name: sample101 test library
secrets:
  secrets_provider: azure_keyvault
  secrets_location: test-keyvault-playground
  # will need three os envs to run Tenant/Client/ClientSecret!
environments:
- PROD
- QA
- DEV
inputs:
- input_name: sales
  input_type: azure_blob
  input_format: csv
  input_header_row: True
  input_locations:
  - DEV: exact, blob-connection-string@playgroundblob01/dummit/demos/products_file.dev.csv
  must:
  - be_present: True
  - be_modified_at_least_x_hours_ago: 24
- input_name: products_list
  input_type: local_file
  input_format: csv
  input_header_row: True
  input_locations:
  - PROD: exact, demos/products_file.prod.csv
  - DEV: exact, demos/products_file.dev.csv
  - QA: exact, demos/products_file.qa.csv 
  must:
  - be_present: True
  - be_modified_at_least_x_hours_ago: 24
  would_be_nice_for_it_to:
  - be_well_formated:
    - prod_id: int
    - prod_name: string
    - prod_category: string
  - have_no_duplicates_for_a_key_of:
    - prod_id
  - have_no_duplicates_for_a_key_of: #this should fail for dev sample file
    - prod_category